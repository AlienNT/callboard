(function(){"use strict";var e={9301:function(e,t,n){var a=n(9242),r=n(3396);const o={class:"main-wrapper"},i={class:"header-wrapper"},s={class:"content-wrapper"},d={class:"container"};function c(e,t,n,a,c,u){const l=(0,r.up)("VHeader"),p=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",i,[(0,r.Wm)(l)]),(0,r._)("div",s,[(0,r._)("div",d,[(0,r.Wm)(p)])])])}var u=n(7139);const l={class:"v-header"},p={class:"container"},m={class:"row"},g={class:"col logo"},h={key:0,class:"col add-new"},f={class:"col user"};function v(e,t,n,a,o,i){const s=(0,r.up)("VLogo"),d=(0,r.up)("router-link"),c=(0,r.up)("VAuth");return(0,r.wg)(),(0,r.iD)("header",l,[(0,r._)("div",p,[(0,r._)("div",m,[(0,r._)("div",g,[(0,r.Wm)(s)]),i.isAuth?((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("div",{class:(0,u.C_)(["add-new-wrapper",{active:i.isEdit}])},[(0,r.Wm)(d,{to:i.isEdit?"/":"/new-announcement",class:"add-new-btn"},null,8,["to"])],2)])):(0,r.kq)("",!0),(0,r._)("div",f,[(0,r.Wm)(c)])])])])}function b(e,t,n,a,o,i){const s=(0,r.up)("VImage"),d=(0,r.up)("router-link");return(0,r.wg)(),(0,r.j4)(d,{class:"v-logo",to:"/"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{src:i.imagePath,background:"transparent",height:"50px",width:"50px",alt:"logo"},null,8,["src"])])),_:1})}var y=n(8378),w={name:"VLogo",components:{VImage:y.Z},computed:{imagePath(){return n(5618)}}},_=n(89);const k=(0,_.Z)(w,[["render",b],["__scopeId","data-v-29d18250"]]);var C=k;const A={class:"v-auth"},S={class:"user"},I={class:"user__name"},j={key:0},E={key:1,class:"short-name"};function D(e,t,n,o,i,s){const d=(0,r.up)("VImage"),c=(0,r.up)("VAuthPopup");return(0,r.wg)(),(0,r.iD)("div",A,[(0,r._)("div",S,[s.user.id?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"logout",onClick:t[0]||(t[0]=(0,a.iM)(((...e)=>s.logout&&s.logout(...e)),["stop","prevent"]))})):(0,r.kq)("",!0),(0,r._)("div",I,[(0,r.Wm)(a.uT,{name:"fade",appear:"",mode:"out-in"},{default:(0,r.w5)((()=>[s.user.name?((0,r.wg)(),(0,r.iD)("span",j,(0,u.zw)(s.user.name),1)):((0,r.wg)(),(0,r.iD)("div",{key:1,class:"sign-in",onClick:t[1]||(t[1]=(...e)=>s.toggleSignIn&&s.toggleSignIn(...e))}," Sign in "))])),_:1})]),(0,r._)("div",{class:(0,u.C_)(["user__avatar",{unauthorized:!s.user.name}]),onClick:t[2]||(t[2]=(...e)=>s.toggleSignIn&&s.toggleSignIn(...e))},[s.user.image?((0,r.wg)(),(0,r.j4)(d,{key:0,src:s.user.image,alt:s.user.name,height:"100%",width:"100%",background:"transparent"},null,8,["src","alt"])):((0,r.wg)(),(0,r.iD)("div",E,(0,u.zw)(s.shortName),1))],2)]),(0,r.Wm)(a.uT,{name:"fade",appear:""},{default:(0,r.w5)((()=>[i.isShow&&!s.user.name?((0,r.wg)(),(0,r.j4)(c,{key:0,onOnClick:s.toggleSignIn},null,8,["onOnClick"])):(0,r.kq)("",!0)])),_:1})])}n(7658);const L=e=>((0,r.dD)("data-v-a2a48d78"),e=e(),(0,r.Cn)(),e),V=L((()=>(0,r._)("div",{class:"sign-in-title"}," Sign In ",-1))),U={class:"label"},P={class:"label"},F=["disabled"];function O(e,t,n,o,i,s){const d=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",{class:"v-auth-popup",onClick:t[6]||(t[6]=(0,a.iM)((t=>e.$emit("onClick")),["stop"]))},[(0,r._)("form",{class:"sign-in-form",onSubmit:t[4]||(t[4]=(0,a.iM)(((...e)=>s.onSubmit&&s.onSubmit(...e)),["prevent","stop"])),onClick:t[5]||(t[5]=(0,a.iM)((()=>{}),["stop","prevent"]))},[V,(0,r._)("label",U,[(0,r.wy)((0,r._)("input",{type:"email",class:"sign-in-input","onUpdate:modelValue":t[0]||(t[0]=e=>i.formData.email=e),minlength:"5",placeholder:"Email"},null,512),[[a.nr,i.formData.email]])]),(0,r._)("label",P,[(0,r.wy)((0,r._)("input",{type:"password",class:"sign-in-input","onUpdate:modelValue":t[1]||(t[1]=e=>i.formData.password=e),minlength:"6",placeholder:"Password"},null,512),[[a.nr,i.formData.password]])]),(0,r._)("div",{class:"registration-link",onClick:t[2]||(t[2]=t=>e.$emit("onClick"))},[(0,r.Wm)(d,{to:"/auth"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Registration ")])),_:1})]),(0,r._)("button",{class:"submit",type:"submit",disabled:s.buttonDisable,onClick:t[3]||(t[3]=(0,a.iM)((()=>{}),["stop"]))}," Sign In ",8,F)],32)])}var T={name:"VAuthPopup",data(){return{formData:{email:"",password:""}}},computed:{buttonDisable(){return this.formData.password.length<6||this.formData.email.length<5}},methods:{onSubmit(){this.$store.dispatch("signIn",this.formData)}}};const B=(0,_.Z)(T,[["render",O],["__scopeId","data-v-a2a48d78"]]);var $=B,x={name:"VAuth",components:{VImage:y.Z,VAuthPopup:$},data(){return{isShow:!1}},computed:{user(){return this.$store.getters["getAuthUser"]},shortName(){const e=this.user?.name?.split(" ");return e?e.length>1?e.map((e=>e[0].toUpperCase())).join(""):e[0][0].toUpperCase():null},token(){return this.$store.getters["getToken"]}},methods:{toggleSignIn(){this.isShow=!this.isShow},logout(){this.$store.dispatch("logout"),this.$router.push("/")},getAuthUser(e){this.$store.dispatch("fetchAuthUser",e)}},watch:{user:{handler(e){e?.name&&"/auth"===this.$route.fullPath&&this.$router.push("/")},immediate:!0},token:{handler(e){e&&this.getAuthUser(e)},immediate:!0}}};const W=(0,_.Z)(x,[["render",D],["__scopeId","data-v-3b5ed1c7"]]);var N=W,Z={name:"VHeader",components:{VLogo:C,VAuth:N},computed:{isAuth(){return!!this.$store.getters["getAuthUser"]?.email},isEdit(){return"/new-announcement"===this.$route?.path}}};const q=(0,_.Z)(Z,[["render",v]]);var M=q,z={name:"App",components:{VHeader:M},methods:{async fetchAnnouncements(){this.$store.dispatch("fetchAnnouncements")}},mounted(){this.fetchAnnouncements(),document.title="Genshin Bulletin Board"}};const H=(0,_.Z)(z,[["render",c]]);var R=H,G=n(2483),K=n(4239);const Y=[{path:"/",name:"products",component:()=>n.e(654).then(n.bind(n,9654))},{path:"/:id",name:"product",component:()=>n.e(799).then(n.bind(n,5799))},{path:"/new-announcement",name:"newProduct",component:()=>n.e(128).then(n.bind(n,5128)),beforeEnter:()=>{const{id:e}=K["default"].getters.getAuthUser;if(!e)return"/"}},{path:"/user-announcements/:authorId",name:"userAnnouncements",component:()=>n.e(723).then(n.bind(n,3723))},{path:"/auth",name:"auth",component:()=>n.e(293).then(n.bind(n,293))}],J=(0,G.p7)({scrollBehavior(e){if(e.hash)return{el:e.hash,behavior:"smooth"}},history:(0,G.PO)("/callboard/"),routes:Y});var Q=J;(0,a.ri)(R).use(K["default"]).use(Q).mount("#app")},4239:function(e,t,n){n.d(t,{c:function(){return o}});n(7658);var a=n(65),r=n(4161);async function o(e,t,n){return(0,r.Z)({method:e,url:t,baseURL:"https://bulletin-board-api.onrender.com/api",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`||""},data:n})}function i(e){localStorage.setItem("token",e)}t["default"]=(0,a.MT)({state:{products:[{id:1,title:"asd",image:"https://m.media-amazon.com/images/I/61qgVEqsVDL._AC_UY1000_.jpg",description:"asdasdad asdasd asda",price:1223,user_id:1,category_id:1},{id:2,title:"asd",image:"https://ae04.alicdn.com/kf/Scc7929a7ad364e45808cb128b8a25f51C.jpg_640x640.jpg",description:"asdasdad asdasd asda",price:1223,user_id:1,category_id:1},{id:3,title:"asd",image:"https://preview.redd.it/77gjf1ohe1q91.jpg?width=640&crop=smart&auto=webp&s=7e8ff6981c1c509a6d7f00c41266721585a2204a",description:"asdasdad asdasd asda",price:1223,user_id:1,category_id:2},{id:4,title:"asd",image:"https://cdn.shopify.com/s/files/1/0618/9275/5701/products/shenhe-gradient-silver-gray-braid-cosplay-wig-c17006-422_533x.jpg?v=1656320876",description:"asdasdad asdasd asda",price:1223,user_id:1,category_id:2},{id:5,title:"asd",image:"https://ih1.redbubble.net/image.2984845336.0789/st,small,507x507-pad,600x600,f8f8f8.jpg",description:"asdasdad asdasd asda",price:1223,user_id:1,category_id:2},{id:6,title:"asd",image:"https://i.etsystatic.com/35786495/r/il/0cbd54/4012785026/il_fullxfull.4012785026_c6fr.jpg",description:"asdasdad asdasd asda",price:1223,user_id:1,category_id:2},{id:7,title:"asd",image:"",description:"asdasdad asdasd asda",price:1223,user_id:1,category_id:3}],announcements:[],users:[{id:1,name:"Test User",phone:"+38000000000",email:"test@test"}],categories:[{id:1,title:"clothes"},{id:2,title:"accessories"},{id:3,title:"other"}],categoriesFilter:[],authUser:{}},getters:{getProducts:e=>e.products,getProductsByCategory:e=>t=>e.products.filter((e=>e.category_id===t)),getProductById:e=>t=>e.products.find((e=>e.id===t)),getUserById:e=>t=>e.users.find((e=>e.id===t)),getAuthUser:e=>e.authUser,getCategories:e=>e.categories,getCategoriesFilter:e=>e.categoriesFilter,getToken:()=>localStorage.getItem("token"),getAnnouncements:e=>e.announcements.sort((e=>e.updated_at)).reverse(),getAnnouncement:e=>t=>e.announcements.find((e=>e._id===t))},mutations:{setProducts:(e,t)=>{e.products=t},setCategoriesFilter:(e,t)=>{e.categoriesFilter=t},setCategoriesFilterStatusById:(e,t)=>{const n=e.categoriesFilter.find((e=>e.id===t));n.select=!n.select},login:(e,t)=>{i(t.token),e.authUser=t.user},logout:e=>{i(""),e.authUser={}},setAnnouncements:(e,t)=>{e.announcements=t},setAnnouncement:(e,t)=>{e.announcements.find((e=>e._id===t._id))||e.announcements.push(t)}},actions:{setCategoriesFilter({commit:e},t){t&&e("setCategoriesFilter",t.map((e=>({...e,select:!1}))))},setCategoriesFilterStatusById({commit:e},t){e("setCategoriesFilterStatusById",t)},async registration({commit:e},t){const n=await o("post","/registration",t),{token:a,user:r}=n?.data;r&&e("login",{token:a,user:r})},async signIn({commit:e},t){const n=await o("post","/login",t),{token:a,user:r}=n?.data;a&&e("login",{token:a,user:r})},logout({commit:e}){e("logout")},async fetchAuthUser({commit:e},t){const n=await o("get","/auth-user",t),{token:a,user:r}=n?.data;a&&e("login",{token:a,user:r})},async fetchAnnouncements({commit:e}){const t=await o("get","/announcements"),{data:n}=t?.data;n&&e("setAnnouncements",n)},async fetchAnnouncementById({commit:e},t){const n=await o("get",`/announcements/${t}`),{data:a}=n?.data;a&&e("setAnnouncement",a)},async createAnnouncement(e,t){const n=await o("post","/announcements",t),{data:a}=n?.data;return a&&await e.dispatch("fetchAnnouncementById",a._id),a}}})},8378:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(3396),r=n(7139),o=n(9242);const i=["src","alt"],s={key:0,class:"loader"},d={key:1,class:"error"};function c(e,t,n,c,u,l){const p=(0,a.up)("VLoader");return(0,a.wg)(),(0,a.iD)("div",{class:"v-image",style:(0,r.j5)({"padding-top":n.height,"padding-left":n.width,background:n.background})},[(0,a.Wm)(o.uT,{name:"fade",appear:""},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("img",{src:n.src||"",alt:n.alt,style:(0,r.j5)({"object-fit":n.objectFit}),onLoad:t[0]||(t[0]=(...e)=>l.onLoad&&l.onLoad(...e)),onError:t[1]||(t[1]=(...e)=>l.onError&&l.onError(...e)),onClick:t[2]||(t[2]=(...e)=>l.onClick&&l.onClick(...e))},null,44,i),[[o.F8,u.isLoad&&!u.isError]])])),_:1}),(0,a.Wm)(o.uT,{name:"fade",appear:""},{default:(0,a.w5)((()=>[u.isLoad||u.isError?u.isError&&!u.isLoad?((0,a.wg)(),(0,a.iD)("div",d)):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(p)]))])),_:1})],4)}const u={class:"v-loader"},l={class:"v-loader__wrapper"},p=["src"];function m(e,t,n,r,o,i){return(0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",l,[(0,a._)("img",{src:i.src,alt:"loader image",class:"v-loader__item"},null,8,p)])])}var g={name:"VLoader",computed:{src(){return n(7871)}}},h=n(89);const f=(0,h.Z)(g,[["render",m],["__scopeId","data-v-4dd50850"]]);var v=f,b={name:"VImage",components:{VLoader:v},data(){return{isLoad:!1,isError:!1}},props:{src:{type:String,default:null},alt:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"60%"},objectFit:{type:String,default:"cover"},background:{type:String,default:"rgba(0, 0, 0, 0.49)"}},methods:{onLoad(){this.isLoad=!0},onError(){this.isError=!0},onClick(){this.isLoad&&!this.isError&&this.$emit("onClick")}},watch:{src:{handler(){this.isLoad=!1,this.isError=!1},immediate:!0}}};const y=(0,h.Z)(b,[["render",c],["__scopeId","data-v-250f0d95"]]);var w=y},7871:function(e,t,n){e.exports=n.p+"img/g-cryo.4eb1e96d.png"},5618:function(e,t,n){e.exports=n.p+"img/shenhe.00425bb9.png"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],o=e[u][2];for(var s=!0,d=0;d<a.length;d++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[d])}))?a.splice(d--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{128:"583db77c",293:"fcd2cc67",654:"7c90083c",723:"e18f90a7",799:"f9c24c59"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{128:"95a2f093",293:"275219c0",654:"a07ca0c2",723:"1807fdf9",799:"875bed2e"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="callboard:";n.l=function(a,r,o,i){if(e[a])e[a].push(r);else{var s,d;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==a||l.getAttribute("data-webpack")==t+o){s=l;break}}s||(d=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=a),e[a]=[r];var p=function(t,n){s.onerror=s.onload=null,clearTimeout(m);var r=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),d&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/callboard/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,a,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(n){if(o.onerror=o.onload=null,"load"===n.type)a();else{var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=i,d.request=s,o.parentNode&&o.parentNode.removeChild(o),r(d)}};return o.onerror=o.onload=i,o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o),o},t=function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=n[a],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){r=i[a],o=r.getAttribute("data-href");if(o===e||o===t)return r}},a=function(a){return new Promise((function(r,o){var i=n.miniCssF(a),s=n.p+i;if(t(i,s))return r();e(a,s,null,r,o)}))},r={143:0};n.f.miniCss=function(e,t){var n={128:1,293:1,654:1,723:1,799:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=a(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,a){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=e[t]=[n,a]}));a.push(r[2]=o);var i=n.p+n.u(t),s=new Error,d=function(a){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}};n.l(i,d,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,i=a[0],s=a[1],d=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(d)var u=d(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},a=self["webpackChunkcallboard"]=self["webpackChunkcallboard"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9301)}));a=n.O(a)})();
//# sourceMappingURL=app.81d10ff6.js.map